<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc 3.6.11">
  <meta charset="utf-8">
  <title>election-helpers 0.0.8 &raquo; Source: index.js</title>
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Karla:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Noto+Serif:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Inconsolata:500" type="text/css">
  <link href="css/baseline.css" rel="stylesheet">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">election-helpers 0.<wbr>0.<wbr>8</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-banner" role="banner">
        </div>
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1>Source: index.js</h1>
          </header>
          <article>
            <pre class="prettyprint linenums"><code>/**
 * @param {string} stateAbbr
 * @returns {string} - The fips code for the state
 * @example
 * getStateFipsFromStateAbbr(&#x27;CA&#x27;)
 * // &#x3D;&gt; &#x27;06&#x27;
 * getStateFipsFromStateAbbr(&#x27;NY&#x27;)
 * // &#x3D;&gt; &#x27;36&#x27;
 */
export function getStateFipsFromStateAbbr(stateAbbr) {
  if (!stateAbbr || typeof stateAbbr !&#x3D;&#x3D; &#x27;string&#x27;) {
    console.error(&#x27;Invalid state abbreviation provided:&#x27;, {
      value: stateAbbr,
      type: typeof stateAbbr,
      expected: &#x27;two-letter state code string (e.g., &quot;NY&quot;)&#x27;,
      hint: &quot;Make sure you&#x27;re passing a valid state abbreviation string&quot;,
    })
    return undefined
  }
  const cleanAbbr &#x3D; stateAbbr.trim().toUpperCase()
  if (cleanAbbr.length !&#x3D;&#x3D; 2) {
    console.error(&#x27;State abbreviation must be exactly 2 characters:&#x27;, {
      value: stateAbbr,
      cleanedValue: cleanAbbr,
      length: cleanAbbr.length,
      expected: 2,
      hint: &#x27;State codes should be exactly two letters, like &quot;NY&quot; or &quot;CA&quot;&#x27;,
    })
    return undefined
  }
  const focusStateName &#x3D; stateAbbrHash[cleanAbbr]
  const focusStateFips &#x3D; stateNameToFips(focusStateName)
  if (!focusStateFips) {
    console.error(&#x27;Could not convert state abbreviation to FIPS:&#x27;, {
      input: stateAbbr,
      cleaned: cleanAbbr,
      stateName: focusStateName,
      validCodes: Object.keys(stateAbbrHash).join(&#x27;, &#x27;),
      hint: &#x27;Check if the state abbreviation is valid&#x27;,
    })
  }
  return focusStateFips
}

/**
 * @param {string} stateFips - The state fips code.
 * @returns {string} - The state name
 * @throws {Error} - If the state fips code is invalid.
 * @example
 * stateNameHash[&#x27;01&#x27;]
 * // returns &#x27;Alabama&#x27;
 *
 */
export const stateNameHash &#x3D; {
  &#x27;01&#x27;: &#x27;Alabama&#x27;,
  &#x27;02&#x27;: &#x27;Alaska&#x27;,
  &#x27;04&#x27;: &#x27;Arizona&#x27;,
  &#x27;05&#x27;: &#x27;Arkansas&#x27;,
  &#x27;06&#x27;: &#x27;California&#x27;,
  &#x27;08&#x27;: &#x27;Colorado&#x27;,
  &#x27;09&#x27;: &#x27;Connecticut&#x27;,
  10: &#x27;Delaware&#x27;,
  11: &#x27;District of Columbia&#x27;,
  12: &#x27;Florida&#x27;,
  13: &#x27;Georgia&#x27;,
  15: &#x27;Hawaii&#x27;,
  16: &#x27;Idaho&#x27;,
  17: &#x27;Illinois&#x27;,
  18: &#x27;Indiana&#x27;,
  19: &#x27;Iowa&#x27;,
  20: &#x27;Kansas&#x27;,
  21: &#x27;Kentucky&#x27;,
  22: &#x27;Louisiana&#x27;,
  23: &#x27;Maine&#x27;,
  24: &#x27;Maryland&#x27;,
  25: &#x27;Massachusetts&#x27;,
  26: &#x27;Michigan&#x27;,
  27: &#x27;Minnesota&#x27;,
  28: &#x27;Mississippi&#x27;,
  29: &#x27;Missouri&#x27;,
  30: &#x27;Montana&#x27;,
  31: &#x27;Nebraska&#x27;,
  32: &#x27;Nevada&#x27;,
  33: &#x27;New Hampshire&#x27;,
  34: &#x27;New Jersey&#x27;,
  35: &#x27;New Mexico&#x27;,
  36: &#x27;New York&#x27;,
  37: &#x27;North Carolina&#x27;,
  38: &#x27;North Dakota&#x27;,
  39: &#x27;Ohio&#x27;,
  40: &#x27;Oklahoma&#x27;,
  41: &#x27;Oregon&#x27;,
  42: &#x27;Pennsylvania&#x27;,
  44: &#x27;Rhode Island&#x27;,
  45: &#x27;South Carolina&#x27;,
  46: &#x27;South Dakota&#x27;,
  47: &#x27;Tennessee&#x27;,
  48: &#x27;Texas&#x27;,
  49: &#x27;Utah&#x27;,
  50: &#x27;Vermont&#x27;,
  51: &#x27;Virginia&#x27;,
  53: &#x27;Washington&#x27;,
  54: &#x27;West Virginia&#x27;,
  55: &#x27;Wisconsin&#x27;,
  56: &#x27;Wyoming&#x27;,
}

// Move stateAbbrHash to module scope
export const stateAbbrHash &#x3D; {
  AL: &#x27;Alabama&#x27;,
  AK: &#x27;Alaska&#x27;,
  AS: &#x27;American Samoa&#x27;,
  AZ: &#x27;Arizona&#x27;,
  AR: &#x27;Arkansas&#x27;,
  CA: &#x27;California&#x27;,
  CO: &#x27;Colorado&#x27;,
  CT: &#x27;Connecticut&#x27;,
  DE: &#x27;Delaware&#x27;,
  DC: &#x27;District Of Columbia&#x27;,
  FM: &#x27;Federated States Of Micronesia&#x27;,
  FL: &#x27;Florida&#x27;,
  GA: &#x27;Georgia&#x27;,
  GU: &#x27;Guam&#x27;,
  HI: &#x27;Hawaii&#x27;,
  ID: &#x27;Idaho&#x27;,
  IL: &#x27;Illinois&#x27;,
  IN: &#x27;Indiana&#x27;,
  IA: &#x27;Iowa&#x27;,
  KS: &#x27;Kansas&#x27;,
  KY: &#x27;Kentucky&#x27;,
  LA: &#x27;Louisiana&#x27;,
  ME: &#x27;Maine&#x27;,
  MH: &#x27;Marshall Islands&#x27;,
  MD: &#x27;Maryland&#x27;,
  MA: &#x27;Massachusetts&#x27;,
  MI: &#x27;Michigan&#x27;,
  MN: &#x27;Minnesota&#x27;,
  MS: &#x27;Mississippi&#x27;,
  MO: &#x27;Missouri&#x27;,
  MT: &#x27;Montana&#x27;,
  NE: &#x27;Nebraska&#x27;,
  NV: &#x27;Nevada&#x27;,
  NH: &#x27;New Hampshire&#x27;,
  NJ: &#x27;New Jersey&#x27;,
  NM: &#x27;New Mexico&#x27;,
  NY: &#x27;New York&#x27;,
  NC: &#x27;North Carolina&#x27;,
  ND: &#x27;North Dakota&#x27;,
  MP: &#x27;Northern Mariana Islands&#x27;,
  OH: &#x27;Ohio&#x27;,
  OK: &#x27;Oklahoma&#x27;,
  OR: &#x27;Oregon&#x27;,
  PW: &#x27;Palau&#x27;,
  PA: &#x27;Pennsylvania&#x27;,
  PR: &#x27;Puerto Rico&#x27;,
  RI: &#x27;Rhode Island&#x27;,
  SC: &#x27;South Carolina&#x27;,
  SD: &#x27;South Dakota&#x27;,
  TN: &#x27;Tennessee&#x27;,
  TX: &#x27;Texas&#x27;,
  UT: &#x27;Utah&#x27;,
  VT: &#x27;Vermont&#x27;,
  VI: &#x27;Virgin Islands&#x27;,
  VA: &#x27;Virginia&#x27;,
  WA: &#x27;Washington&#x27;,
  WV: &#x27;West Virginia&#x27;,
  WI: &#x27;Wisconsin&#x27;,
  WY: &#x27;Wyoming&#x27;,
}

/**
 *
 * @param {string} stateAbbr - Two letter state abbreviation
 * @returns {string} - The state name
 * @throws {Error} - If the state abbreviation is invalid.
 * @example
 * getStateNameFromStateAbbr(&#x27;AL&#x27;)
 * // returns &#x27;Alabama&#x27;
 *
 */
export function stateAbbrToName(stateAbbr) {
  if (!stateAbbr || typeof stateAbbr !&#x3D;&#x3D; &#x27;string&#x27;) return undefined
  const cleanAbbr &#x3D; stateAbbr.trim().toUpperCase()
  return stateAbbrHash[cleanAbbr]
}

/**
 *
 * @param {string} stateFips - The state fips code.
 * @returns {string} - The state abbreviation
 * @throws {Error} - If the state fips code is invalid.
 * @example
 * getStateAbbrFromStateFips(&#x27;01&#x27;)
 * // returns &#x27;AL&#x27;
 *
 * @example
 * getStateAbbrFromStateFips(&#x27;36&#x27;)
 * // returns &#x27;NY&#x27;
 *
 * @example
 * getStateAbbrFromStateFips(&#x27;XX&#x27;)
 * // throws an error
 */

export function getStateAbbrFromStateFips(stateFips) {
  if (!stateFips) {
    console.error(&#x27;Missing FIPS code:&#x27;, {
      value: stateFips,
      type: typeof stateFips,
      expected: &#x27;string or number FIPS code&#x27;,
      hint: &#x27;FIPS code is required and cannot be null/undefined&#x27;,
    })
    throw new Error(&#x27;stateFips is required&#x27;)
  }

  // Convert number to string if needed
  const fipsStr &#x3D; String(stateFips)
  // Pad single digit with leading zero
  const paddedFips &#x3D; fipsStr.padStart(2, &#x27;0&#x27;)

  if (paddedFips.length !&#x3D;&#x3D; 2) {
    console.error(&#x27;Invalid FIPS code length:&#x27;, {
      input: stateFips,
      asString: fipsStr,
      padded: paddedFips,
      length: paddedFips.length,
      expected: 2,
      hint: &#x27;FIPS codes should be exactly 2 digits, like &quot;06&quot; for California&#x27;,
    })
    throw new Error(&#x27;stateFips must be two characters&#x27;)
  }

  if (!stateNameHash[paddedFips]) {
    console.error(&#x27;Invalid FIPS code:&#x27;, {
      input: stateFips,
      processed: paddedFips,
      validCodes: Object.keys(stateNameHash).join(&#x27;, &#x27;),
      hint: &#x27;Check if the FIPS code exists in the state database&#x27;,
    })
    throw new Error(&#x27;stateFips is invalid&#x27;)
  }

  return stateFipsToAbbr(+paddedFips)
}

export function stateFipsToAbbr(stateFips) {
  const stateFipsHash &#x3D; {
    1: &#x27;AL&#x27;,
    2: &#x27;AK&#x27;,
    4: &#x27;AZ&#x27;,
    5: &#x27;AR&#x27;,
    6: &#x27;CA&#x27;,
    8: &#x27;CO&#x27;,
    9: &#x27;CT&#x27;,
    10: &#x27;DE&#x27;,
    11: &#x27;DC&#x27;,
    12: &#x27;FL&#x27;,
    13: &#x27;GA&#x27;,
    15: &#x27;HI&#x27;,
    16: &#x27;ID&#x27;,
    17: &#x27;IL&#x27;,
    18: &#x27;IN&#x27;,
    19: &#x27;IA&#x27;,
    20: &#x27;KS&#x27;,
    21: &#x27;KY&#x27;,
    22: &#x27;LA&#x27;,
    23: &#x27;ME&#x27;,
    24: &#x27;MD&#x27;,
    25: &#x27;MA&#x27;,
    26: &#x27;MI&#x27;,
    27: &#x27;MN&#x27;,
    28: &#x27;MS&#x27;,
    29: &#x27;MO&#x27;,
    30: &#x27;MT&#x27;,
    31: &#x27;NE&#x27;,
    32: &#x27;NV&#x27;,
    33: &#x27;NH&#x27;,
    34: &#x27;NJ&#x27;,
    35: &#x27;NM&#x27;,
    36: &#x27;NY&#x27;,
    37: &#x27;NC&#x27;,
    38: &#x27;ND&#x27;,
    39: &#x27;OH&#x27;,
    40: &#x27;OK&#x27;,
    41: &#x27;OR&#x27;,
    42: &#x27;PA&#x27;,
    44: &#x27;RI&#x27;,
    45: &#x27;SC&#x27;,
    46: &#x27;SD&#x27;,
    47: &#x27;TN&#x27;,
    48: &#x27;TX&#x27;,
    49: &#x27;UT&#x27;,
    50: &#x27;VT&#x27;,
    51: &#x27;VA&#x27;,
    53: &#x27;WA&#x27;,
    54: &#x27;WV&#x27;,
    55: &#x27;WI&#x27;,
    56: &#x27;WY&#x27;,
  }
  return stateFipsHash[stateFips]
}

/**
 * @description Get the state code from the county fips string
 * @param {string} countyFips - The county fips code.
 * @returns {string} - The state fips code.
 * @example
 * getStateCodeFromCountyFips(&#x27;01001&#x27;)
 * // returns &#x27;01&#x27;
 * @example
 * getStateCodeFromCountyFips(01000)
 * // throws Error
 * @example
 * getStateCodeFromCountyFips(&#x27;01&#x27;)
 * // throws Error
 *
 */
export function getStateCodeFromCountyFips(countyFips) {
  if (!countyFips || typeof countyFips !&#x3D;&#x3D; &#x27;string&#x27;) {
    console.error(&#x27;Invalid county FIPS code:&#x27;, {
      value: countyFips,
      type: typeof countyFips,
      expected: &#x27;string of 5 digits&#x27;,
      hint: &#x27;County FIPS should be a string like &quot;36001&quot;&#x27;,
    })
    throw new Error(&#x27;Invalid county FIPS code&#x27;)
  }

  // Only allow digits
  if (!/^\d+$/.test(countyFips)) {
    console.error(&#x27;County FIPS contains non-digits:&#x27;, {
      value: countyFips,
      match: countyFips.match(/\D+/g),
      expected: &#x27;only digits 0-9&#x27;,
      hint: &#x27;Remove any special characters, letters, or spaces&#x27;,
    })
    throw new Error(&#x27;County FIPS code must contain only digits&#x27;)
  }

  if (countyFips.length &amp;lt; 2) {
    console.error(&#x27;County FIPS code too short:&#x27;, {
      value: countyFips,
      length: countyFips.length,
      expected: &#x27;5 digits (minimum 2)&#x27;,
      hint: &#x27;County FIPS should be 5 digits, like &quot;36001&quot;&#x27;,
    })
    throw new Error(&#x27;Invalid county FIPS code length&#x27;)
  }

  return countyFips.slice(0, 2)
}

/**
 * @desc Given the absolute number of votes a candidate has received, and the total number of votes in the election, returns the percentage of votes the candidate has received.
 * @param {number} candidateVote - The number of votes the candidate has received.
 * @param {number} totalVotes - The total number of votes in the election.
 * @returns {string} - The percentage of votes the candidate has received, formatted to one decimal place.
 * @example
 * candidateVotePercentage(100, 200)
 * // returns &#x27;50.0&#x27;
 */
export function candidateVotePercentage(candidateVote, totalVote) {
  // Handle null/undefined inputs
  if (candidateVote &#x3D;&#x3D; null || totalVote &#x3D;&#x3D; null) {
    console.warn(&#x27;Null or undefined vote values:&#x27;, {
      candidateVote,
      totalVote,
    })
    return &#x27;NaN&#x27;
  }

  // Convert inputs to numbers
  const candidateNum &#x3D; Number(candidateVote)
  const totalNum &#x3D; Number(totalVote)

  // Handle NaN after conversion
  if (isNaN(candidateNum) || isNaN(totalNum)) {
    console.warn(&#x27;Non-numeric vote values:&#x27;, {
      candidateVote,
      totalVote,
    })
    return &#x27;NaN&#x27;
  }

  // Handle zero total votes
  if (totalNum &#x3D;&#x3D;&#x3D; 0) {
    console.warn(&#x27;Division by zero:&#x27;, {
      candidateVote,
      totalVote,
    })
    return &#x27;NaN&#x27;
  }

  // Handle negative values
  if (candidateNum &amp;lt; 0 || totalNum &amp;lt; 0) {
    console.warn(&#x27;Negative vote values:&#x27;, {
      candidateVote,
      totalVote,
    })
    return &#x27;NaN&#x27;
  }

  // Calculate percentage (allow negative values)
  const percentage &#x3D; (candidateNum / totalNum) * 100
  return percentage.toFixed(1)
}

/**
 * @desc Given an array of candidate objects, returns a sorted array of candidate objects, sorted by the number of votes they have received with the specified sort function.
 * 
 * @param {Array} candidates - An array of candidate objects.
 * @param {Function} sortFunction - The function to use to sort the candidates (like d3.descending)
 * @returns {Array} - A sorted array of candidate objects.
 * @throws {Error} - If the candidates array is invalid.

 */
export function sortCandidatesByVotes(raceCandidateArray, sortFunction) {
  if (!raceCandidateArray) {
    console.error(&#x27;Invalid candidates array:&#x27;, {
      value: raceCandidateArray,
      type: typeof raceCandidateArray,
      expected: &#x27;array of candidate objects&#x27;,
      hint: &quot;Make sure you&#x27;re passing a valid array of candidates&quot;,
    })
    return undefined
  }

  if (!Array.isArray(raceCandidateArray)) {
    console.error(&#x27;Candidates must be an array:&#x27;, {
      value: raceCandidateArray,
      type: typeof raceCandidateArray,
      expected: &#x27;array&#x27;,
      hint: &#x27;Convert your data to an array before sorting&#x27;,
    })
    return undefined
  }

  if (raceCandidateArray.length &#x3D;&#x3D;&#x3D; 0) {
    console.error(&#x27;Empty candidates array:&#x27;, {
      value: raceCandidateArray,
      length: 0,
      expected: &#x27;at least one candidate&#x27;,
      hint: &#x27;Check why your candidates array is empty&#x27;,
    })
    return undefined
  }

  if (raceCandidateArray.length &#x3D;&#x3D;&#x3D; 1) {
    console.warn(&#x27;Single candidate array:&#x27;, {
      candidate: raceCandidateArray[0],
      hint: &#x27;Sorting a single candidate might indicate a data issue&#x27;,
    })
    return raceCandidateArray
  }

  // Default descending sort if no function provided or if function is invalid
  const safeSortFunction &#x3D;
    typeof sortFunction &#x3D;&#x3D;&#x3D; &#x27;function&#x27; ? sortFunction : (a, b) &#x3D;&gt; b - a

  try {
    return raceCandidateArray.sort(function (x, y) {
      // Log any candidates with missing or invalid vote counts
      if (!(&#x27;candidatevotes&#x27; in x)) {
        console.error(&#x27;Candidate missing votes:&#x27;, {
          candidate: x,
          expected: &#x27;candidatevotes property&#x27;,
          hint: &#x27;Each candidate must have a candidatevotes property&#x27;,
        })
      }
      if (!(&#x27;candidatevotes&#x27; in y)) {
        console.error(&#x27;Candidate missing votes:&#x27;, {
          candidate: y,
          expected: &#x27;candidatevotes property&#x27;,
          hint: &#x27;Each candidate must have a candidatevotes property&#x27;,
        })
      }

      // Safely convert to numbers, handling edge cases
      const xVotes &#x3D; Number(x?.candidatevotes)
      const yVotes &#x3D; Number(y?.candidatevotes)

      // Log problematic vote values
      if (isNaN(xVotes)) {
        console.error(&#x27;Invalid vote count:&#x27;, {
          candidate: x,
          voteValue: x?.candidatevotes,
          convertedTo: xVotes,
          expected: &#x27;numeric value&#x27;,
          hint: &#x27;Vote counts must be convertible to numbers&#x27;,
        })
      }
      if (isNaN(yVotes)) {
        console.error(&#x27;Invalid vote count:&#x27;, {
          candidate: y,
          voteValue: y?.candidatevotes,
          convertedTo: yVotes,
          expected: &#x27;numeric value&#x27;,
          hint: &#x27;Vote counts must be convertible to numbers&#x27;,
        })
      }

      // Handle NaN cases
      if (isNaN(xVotes) &amp;amp;&amp;amp; isNaN(yVotes)) return 0
      if (isNaN(xVotes)) return 1
      if (isNaN(yVotes)) return -1

      // Handle Infinity cases
      if (!isFinite(xVotes) || !isFinite(yVotes)) {
        console.warn(&#x27;Non-finite vote count:&#x27;, {
          values: { x: xVotes, y: yVotes },
          handling: &#x27;Using sign to determine order&#x27;,
          hint: &#x27;Check for division by zero or very large numbers&#x27;,
        })
      }
      if (!isFinite(xVotes) &amp;amp;&amp;amp; !isFinite(yVotes)) return 0
      if (!isFinite(xVotes)) return xVotes &gt; 0 ? -1 : 1
      if (!isFinite(yVotes)) return yVotes &gt; 0 ? 1 : -1

      try {
        return safeSortFunction(xVotes, yVotes)
      } catch (err) {
        console.error(&#x27;Sort function failed:&#x27;, {
          error: err.message,
          values: { x: xVotes, y: yVotes },
          sortFunction: sortFunction?.toString(),
          fallback: &#x27;Using default descending sort&#x27;,
          hint: &#x27;Check your sort function for errors&#x27;,
        })
        return yVotes - xVotes
      }
    })
  } catch (err) {
    console.error(&#x27;Sorting failed:&#x27;, {
      error: err.message,
      array: raceCandidateArray,
      length: raceCandidateArray.length,
      sampleValues: raceCandidateArray.slice(0, 3),
      handling: &#x27;Returning original array&#x27;,
      hint: &#x27;Check array contents and sort function&#x27;,
    })
    return raceCandidateArray
  }
}

/**
 *
 * @param {string} stateFips
 * @returns {string} - The state name
 * @throws {Error} - If the state fips code is invalid.
 * @example
 * stateFipsToName(&#x27;01&#x27;)
 * // returns &#x27;Alabama&#x27;
 *
 */

export function stateFipsToName(stateFips) {
  return stateNameHash[stateFips]
}

/**
 * @description Get the state fips code from the abbreviation, like &#x27;NY&#x27; to &#x27;36&#x27;
 * @param {string} stateAbbr - The state abbreviation.
 * @returns {string} - The state fips code.
 * @example
 * stateAbbrToFips(&#x27;NY&#x27;)
 * // returns &#x27;36&#x27;
 */
export function stateAbbrToFips(stateAbbr) {
  if (!stateAbbr) return undefined
  const stateName &#x3D; stateAbbrToName(stateAbbr)
  if (!stateName) return undefined
  return Object.keys(stateNameHash).find(
    (key) &#x3D;&gt; stateNameHash[key] &#x3D;&#x3D;&#x3D; stateName
  )
}

/**
 *
 * @param {string} stateName
 * @returns {string} - The state fips code
 * @throws {Error} - If the state name is invalid.
 * @example
 * getStateFipsFromStateName(&#x27;Alabama&#x27;)
 * // returns &#x27;01&#x27;
 */
export function stateNameToFips(stateName) {
  return Object.keys(stateNameHash).find(
    (key) &#x3D;&gt; stateNameHash[key] &#x3D;&#x3D;&#x3D; stateName
  )
}

/**
 * @param {string} raceType
 * @returns {array} - An array of the available district types
 * @example
 * boundariesAvailableForRaceType(&#x27;president&#x27;)
 * // returns [&#x27;state&#x27;, &#x27;county&#x27;]
 * @example
 * boundariesAvailableForRaceType(&#x27;senate&#x27;)
 * // returns [&#x27;state&#x27;]
 * @example
 * boundariesAvailableForRaceType(&#x27;house&#x27;)
 * // returns [&#x27;district&#x27;]
 * @example
 * boundariesAvailableForRaceType(2016)
 * // returns null
 */

export function boundariesAvailableForRaceType(raceType) {
  const availableBoundaries &#x3D; []
  if (raceType &#x3D;&#x3D;&#x3D; &#x27;president&#x27;) {
    availableBoundaries.push(&#x27;state&#x27;)
    availableBoundaries.push(&#x27;county&#x27;)
  } else if (raceType &#x3D;&#x3D;&#x3D; &#x27;senate&#x27;) {
    availableBoundaries.push(&#x27;county&#x27;)
  } else if (raceType &#x3D;&#x3D;&#x3D; &#x27;house&#x27;) {
    availableBoundaries.push(&#x27;district&#x27;)
  } else return null
  return availableBoundaries
}

/**
 * @param {string} raceType - The race type, like &#x27;president&#x27;, &#x27;house&#x27;, or &#x27;senate&#x27;
 * @param {string} boundaryType - The type of boundary, like &#x27;county&#x27;, &#x27;state&#x27;, or &#x27;district&#x27;
 * @example
 * isBoundaryAvailableForRaceType(&#x27;president&#x27;, &#x27;county&#x27;)
 * // returns true
 * @example
 * isBoundaryAvailableForRaceType(&#x27;president&#x27;, &#x27;state&#x27;)
 * // returns true
 * @example
 * isBoundaryAvailableForRaceType(&#x27;president&#x27;, &#x27;district&#x27;)
 * // returns false
 */
export function isBoundaryAvailableForRaceType(raceType, boundaryType) {
  const availableBoundaries &#x3D; boundariesAvailableForRaceType(raceType)
  if (!availableBoundaries) return false
  return availableBoundaries.includes(boundaryType)
}

// Configuration
const config &#x3D; {
  votePercentDecimalPlaces: 1,
}
</code></pre>
          </article>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> 3.6.11 on May 14, 2025.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>